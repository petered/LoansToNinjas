classdef House < DataBaseItem
    
    properties
        
        
        
        % Basic
        price;       
        worth; % Relative value
        forSale=false;
                
        % Derived (see get methods)
        value;  % worth*(housing index)
        
        % Linking
        M;      % Mortgage        
        Owner;  % Owner.  Can be a Bank or a HomeOwner
        W;      % World
        
    end
    
    
    methods
       
        function value=get.value(A) % Estimated Value
                       
            if isempty(A.W), value=[]; return; end
%             value=A.worth*A.W.houseIndex;
             value=A.worth*mean(houseIndexHistory
        end
        
    end
    
    methods (Static)
        
        function H=build(worths)
                        
            S=struct('worth',{worths});

            H_=House;
            H=H_.init(S,length(worths));
                           
        end
        
        
    end
    
end